<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>Shining Light on the Shadow DOM</title>

    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/reveal.css" />
    <link rel="stylesheet" href="css/theme/mytheme.css" />

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/monokai.css" />

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement("link");
      link.rel = "stylesheet";
      link.type = "text/css";
      link.href = window.location.search.match(/print-pdf/gi)
        ? "css/print/pdf.css"
        : "css/print/paper.css";
      document.getElementsByTagName("head")[0].appendChild(link);
    </script>
  </head>
  <body>
    <div class="reveal">
      <footer>
        <span class="name">@robindykema</span>
      </footer>
      <div class="slides">
        <section data-background="./assets/introslide.jpg"></section>
        <section>
          <img
            class="circular-image"
            src="./assets/me.jpg"
            alt="Robin Dykema"
          />
          <h2>Hello!</h2>
          <p>I’m Robin Dykema.</p>
          <p>I’m a UI engineer at Taulia in Austin, TX.</p>
        </section>
        <section>
          <h2>What we will cover today</h2>
          <ol>
            <li class="fragment">A background of Shadow DOM</li>
            <li class="fragment">What is the shadow DOM?</li>
            <li class="fragment">
              What problems can these technologies solve?
            </li>
          </ol>
        </section>

        <!-- Part 1 begins -->
        <section>
          <section><h1>1. What are web components?</h1></section>
          <section><h1>Web components.</h1></section>
          <section>
            <p>
              Web components are framework-agnostic components that can be
              dropped into any app. They use native JavaScript and do not
              require any outside libraries.
            </p>
            <p class="fragment">
              They're compatible with current
              <span style="font-style: italic;">and future </span>frameworks.
            </p>
          </section>
        </section>
        <section>
          <section>
            <p>
              "Web components are a set of web platform APIs that allow you to
              create new custom, reusable, encapsulated HTML tags to use in web
              pages and web apps. Custom components and widgets build on the Web
              Component standards, will work across modern browsers, and can be
              used with any JavaScript library or framework that works with
              HTML."
            </p>
            <br />
            <p>
              Source:
              <a
                href="https://www.webcomponents.org/introduction#what-are-web-components-"
                rel="noopener"
                target="_blank"
                >webcomponents.org</a
              >
            </p>
          </section>
          <section>
            <h2>
              Web components consist of four separate technologies that can be
              used together
            </h2>
            <ol>
              <li class="fragment">Custom elements</li>
              <li class="fragment">Shadow DOM</li>
              <li class="fragment">HTML templates</li>
              <li class="fragment">ES Modules</li>
            </ol>
            <p class="fragment">You can use them together or separately.</p>
          </section>
          <section>
            <h2>Custom elements</h2>
            <p>
              "The
              <a
                href="https://html.spec.whatwg.org/multipage/custom-elements.html"
                rel="noopenr"
                target="_blank"
                >Custom Elements specification</a
              >
              lays the foundation for designing and using new types of DOM
              elements."
            </p>
            <br />
            <p>
              Source:
              <a
                href="https://www.webcomponents.org/introduction#custom-elements"
                rel="noopener"
                target="_blank"
                >webcomponents.org</a
              >
            </p>
          </section>
          <section>
            <h2>Shadow DOM</h2>
            <p>
              "The
              <a
                href="https://w3c.github.io/webcomponents/spec/shadow/"
                rel="noopener"
                target="_blank"
                >shadow DOM specification</a
              >
              defines how to use encapsulated style and markup in web
              components."
            </p>
            <br />
            <p>
              Source:
              <a
                href="https://www.webcomponents.org/introduction#shadow-dom"
                rel="noopener"
                target="_blank"
                >webcomponents.org</a
              >
            </p>
          </section>
          <section>
            <h2>HTML template</h2>
            <p>
              "The
              <a
                href="https://html.spec.whatwg.org/multipage/scripting.html#the-template-element/"
                rel="noopener"
                target="_blank"
                >HTML template element specification</a
              >
              defines how to declare fragments of markup that go unused at page
              load, but can be instantiated later on at runtime."
            </p>
            <br />
            <p>
              Source:
              <a
                href="https://www.webcomponents.org/introduction#html-template"
                rel="noopener"
                target="_blank"
                >webcomponents.org</a
              >
            </p>
          </section>
          <section>
            <h2>ES Modules</h2>
            <p>
              "The
              <a
                href="https://html.spec.whatwg.org/multipage/webappapis.html#integration-with-the-javascript-module-system"
                rel="noopener"
                target="_blank"
                >ES Modules specification</a
              >
              defines the inclusion and reuse of JS documents in a standards
              based, modular, performant way."
            </p>
            <br />
            <p>
              Source:
              <a
                href="https://www.webcomponents.org/introduction#es-modules"
                rel="noopener"
                target="_blank"
                >webcomponents.org</a
              >
            </p>
          </section>
        </section>
        <!-- TODO: Something here?? -->
        <section>
          <section>
            <h2>Web components are easier for humans to read.</h2>
          </section>
          <section>
            <img
              src="/assets/div-salad.png"
              alt="screenshot of several nested divs"
            />
          </section>
          <section>
            <img
              src="/assets/bootstrap-modal.png"
              alt="code for bootstrap modal"
            />
          </section>
          <section>
            <img
              src="/assets/bootstrap-modal-reimagined.png"
              alt="code for bootstrap modal"
            />
          </section>
        </section>
        <section>
          <section><h2>What are web components NOT?</h2></section>
          <section>
            <h2>Web components are not</h2>
            <ul>
              <li class="fragment">A framework</li>
              <li class="fragment">A rendering library</li>
              <li class="fragment">Opinionated</li>
              <li class="fragment">Going to replace React/Angular/Vue/____</li>
            </ul>
          </section>
        </section>
        <section>
          <section><h2>Let's look at some web components code!</h2></section>
          <section><!-- TODO: web component example goes here --></section>
        </section>
        <section>
          <section>
            <h2>Uhhhh... isn't that a lot of boilerplate code?</h2>
          </section>
          <section>
            <p>Libraries to help you build web components:</p>
            <ul>
              <li>
                <a target="_blank" href="https://stenciljs.com/" rel="noopener"
                  >Stencil</a
                >
              </li>
              <li>
                <a
                  target="_blank"
                  href="https://lit-element.polymer-project.org/"
                  rel="noopener"
                  >LitElement</a
                >
              </li>
              <li>
                <a
                  target="_blank"
                  href="https://skatejs.netlify.com/"
                  rel="noopener"
                  >SkateJS</a
                >
              </li>
            </ul>
          </section>

          <section>
            <p>Libraries of already built web components:</p>
            <ul>
              <li>
                <a
                  target="_blank"
                  href="https://github.com/material-components/material-components-web-components"
                  rel="noopener"
                  >Material Web Components</a
                >
              </li>
              <li>
                <a
                  target="_blank"
                  href="https://www.webcomponents.org/author/PolymerElements"
                  rel="noopener"
                  >PolymerElements</a
                >
              </li>
              <li>
                <a
                  target="_blank"
                  href="https://github.com/vaadin/vaadin"
                  rel="noopener"
                  >Vaadin</a
                >
              </li>
              <li>
                <a target="_blank" href="https://wiredjs.com/" rel="noopener"
                  >Wired</a
                >
              </li>
            </ul>
          </section>
        </section>
        <section>
          <section><h2>Browser support</h2></section>
          <section>
            <img alt="browser support" src="./assets/browser-support.png" />
          </section>
          <section>
            <p>Yes, you will need a polyfill if you want to support IE11.</p>
            <br />
            <p class="fragment">
              *This is a great use case for using a tool such as
              <a target="_blank" href="https://stenciljs.com/" rel="noopener"
                >Stencil</a
              >
              that bundles the polyfills you need.
            </p>
          </section>
        </section>
        <section>
          <section>
            <h2>Final takeaways on web components</h2>
            <ol>
              <li class="fragment">
                Web components consist of four different technologies: custom
                elements, shadow DOM, HTML templates, and ES modules.
              </li>
              <li class="fragment">Web components are future-proof.</li>
              <li class="fragment">
                Web components are not out to replace React/Angular/etc, but can
                help share code between React and Angular code bases.
              </li>
            </ol>
          </section>
        </section>

        <!-- Part 2 begins -->
        <section>
          <section>
            <h2>
              You can write a component without using the shadow DOM and you can
              use the shadow DOM without writing a single component.
            </h2>
          </section>
        </section>
        <section>
          <section><h1>What is the shadow DOM?</h1></section>
          <section>
            <img
              class="width-50"
              alt="Creepy shadow ghost"
              src="./assets/ghost.jpg"
            />
            <img
              class="width-50"
              alt="Scared cat"
              src="./assets/scaredcat.gif"
            />
          </section>
          <section>
            <img
              class="width-50"
              alt="Shadow monster from Stranger Things"
              src="./assets/strangerthings.jpg"
            />
            <img
              class="width-50"
              alt="Stranger Things 2 logo"
              src="./assets/strangerthings2.gif"
            />
          </section>
          <section>
            <p>The shadow DOM is not that scary, I promise.</p>
          </section>
        </section>
        <section>
          <section>
            <h2>
              Before we answer what the shadow DOM is... what is the DOM?
            </h2>
            <p class="fragment">And the light DOM?</p>
            <p class="fragment">And the virtual DOM?</p>
            <p class="fragment">HOW MANY DOMS ARE THERE?!?</p>
          </section>
          <section>
            <img
              class="width-50"
              alt="Meme about too many DOMs"
              src="./assets/dommeme.jpeg"
            />
            <img
              class="width-50"
              alt="Recursion"
              src="./assets/recursive.gif"
            />
          </section>
          <section>
            <h2>Shadow DOM is NOT the same as the DOM.</h2>
            <h2>It's also NOT the same as the virtual DOM.</h2>
          </section>
          <section>
            <h2>The DOM (Document Object Model)</h2>
            <img alt="diagram of DOM" src="./assets/dom-diagram.svg" />
          </section>
          <section>
            <h2>The DOM (Document Object Model)</h2>
            <p>
              The DOM is also known as the light DOM when used in comparison to
              the shadow DOM.
            </p>
          </section>
          <section>
            <h2>Virtual DOM</h2>
            <img
              class="width-50"
              alt="virtual dom diagram"
              src="./assets/virtual-dom.png"
            />
            <small
              >Source:
              https://www.oreilly.com/library/view/learning-react-native/9781491929049/ch02.html</small
            >
          </section>
          <section>
            <h2>Shadow DOM</h2>
            <img src="./assets/shadowdom-diagram.svg" />
          </section>
        </section>
        <!-- TODO add definition of shadow DOM with castle analogy -->
        <section>
          <section>
            <h2>
              Several HTML elements use the shadow DOM.
            </h2>
          </section>
          <section>
            <img
              alt="gif showing how to set up shadow dom"
              src="./assets/devtools.gif"
            />
            <p>Dev tools -> settings -> show user agent shadow DOM</p>
          </section>
          <section>
            <h2>input type="range"</h2>
            <img alt="html of input range" src="./assets/inputrange.png" />
          </section>
          <section>
            <h2>video</h2>
            <img alt="html of video" src="./assets/video.png" />
          </section>
        </section>
        <section>
          <section><h2>Shadow DOM vocabulary lesson</h2></section>
          <section>
            <ul>
              <li>
                <span class="yellow-font">Shadow host:</span>
                The light DOM node that the shadow DOM is attached to
              </li>
              <li class="fragment">
                <span class="yellow-font">Shadow tree: </span>The DOM tree
                inside the shadow DOM
              </li>
              <li class="fragment">
                <span class="yellow-font">Shadow boundary: </span>the place
                where the shadow DOM ends, and the light DOM begins
              </li>
              <li class="fragment">
                <span class="yellow-font">Shadow root: </span>The root node of
                the shadow tree
              </li>
            </ul>
          </section>
          <section>
            <img
              alt="shadow dom diagram"
              src="./assets/shadowdom-diagram.png"
            />
            <small
              >Source:
              https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM</small
            >
          </section>
        </section>

        <!-- TODO: add code examples, border etc -->

        <section>
          <section><h2>The shadow DOM simplifies CSS.</h2></section>
          <section>
            <p>The shadow DOM simplifies CSS by letting you:</p>
            <ul>
              <li class="fragment">use simple CSS selectors</li>
            </ul>
          </section>
          <section data-transition="zoom">
            <pre>
              <code class="hljs">
div.main > div ~ #main ul li.selected > a[href*=”li-”] + span.lg {
  background-color: white;
}
            </code>
          </pre>
          </section>
          <section data-transition="zoom">
            <pre>
              <code class="hljs">
span {
  background-color: white;
}
            </code>
          </pre>
          </section>
          <section>
            <p>The shadow DOM simplifies CSS by letting you:</p>
            <ul>
              <li>use simple CSS selectors</li>
              <li class="fragment">use more generic id/class names</li>
            </ul>
          </section>
          <section>
            <pre>
              <code class="hljs">
<div class="priority"></div>

<div class="copyright"></div>

<div class="success"></div>
            </code>
          </pre>
          </section>
          <section>
            <p>The shadow DOM simplifies CSS by letting you:</p>
            <ul>
              <li>use simple CSS selectors</li>
              <li>use more generic id/class names</li>
              <li class="fragment">not worry about naming conflicts</li>
            </ul>
          </section>
          <section>
            <p>
              You can use Bootstrap
              <span style="font-style: italic;">and</span> name a class
              "container"!
            </p>
          </section>
        </section>
        <section><h2>A note on accessibility...</h2></section>
        <section>
          <p>
            For those using assistive technologies to read web pages, the entire
            document (shadow and light DOM) is read as rendered, as one tree.
          </p>
        </section>
        <!-- TODO: final takeaways for shadow dom -->
        <section>
          <h2>Final takeaways</h2>
          <ol>
            <li class="fragment">Takeaway 1</li>
            <li class="fragment">Takeaway 2</li>
            <li class="fragment">Takeaway 3</li>
          </ol>
        </section>
        <section>
          <h1>Thanks!</h1>
          <p>
            Message me or find my slides (with additional resources) on Twitter
            at
          </p>
          <h3>@robindykema</h3>
        </section>
        <section>
          <section>
            <h1>Resources</h1>
          </section>
          <section>
            <ul>
              <li>
                <a
                  rel="noopener"
                  target="_blank"
                  href="https://www.webcomponents.org/"
                  >webcomponents.org</a
                >
              </li>
              <li>
                Google web fundamentals:
                <a
                  rel="noopener"
                  target="_blank"
                  href="https://developers.google.com/web/fundamentals/web-components"
                  >Web components</a
                >
              </li>
              <li>
                <a
                  href="https://github.com/mateusortiz/webcomponents-the-right-way#best-practices"
                  rel="noopner"
                  target="_blank"
                  >Web Components the Right Way</a
                >: A curated list of awesome web components resources
              </li>
              <li>
                <a
                  href="https://hacks.mozilla.org/2018/03/es-modules-a-cartoon-deep-dive/"
                  rel="noopener"
                  target="_blank"
                  >ES modules: A cartoon deep dive</a
                >
              </li>
              <li>
                MDN Docs:
                <a
                  href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction"
                  rel="noopener"
                  target="_blank"
                  >Introduction to the DOM</a
                >
              </li>
              <li>
                MDN Docs:
                <a
                  href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM"
                  rel="noopener"
                  target="_blank"
                  >Using the shadow DOM</a
                >
              </li>
            </ul>
          </section>
        </section>
      </div>
    </div>

    <script src="js/reveal.js"></script>

    <script>
      // More info about config & dependencies:
      // - https://github.com/hakimel/reveal.js#configuration
      // - https://github.com/hakimel/reveal.js#dependencies
      Reveal.initialize({
        hash: true,
        dependencies: [
          { src: "plugin/markdown/marked.js" },
          { src: "plugin/markdown/markdown.js" },
          { src: "plugin/highlight/highlight.js" },
          { src: "plugin/notes/notes.js", async: true },
        ],
      });
    </script>
  </body>
</html>

<!-- <section>
            <h3>
              You probably already use web components on a daily basis, whether
              you realize it or not.
            </h3>
            <p>
              <span class="fragment">Github, </span>
              <span class="fragment">Youtube, </span>
              <span class="fragment">any site using AMP</span>
            </p>
          </section> -->

<!--           <section>
            <p>
              While it's certainly possible to create an entire application
              using only web components and vanilla JS, for complex
              applications, you might be better off using React/Angular/etc for
              heavy lifting.
            </p>
          </section> -->
